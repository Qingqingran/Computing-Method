clc
x = [0.25, 0.50, 0.75, 1.00, 1.25, 1.50, 1.75, 2.00, 2.25, 2.50];
y = [1.284, 1.648, 2.117, 2.718, 3.427, 2.798, 3.534, 4.456, 5.465, 5.894];
A11 = 0;
A12 = 0;
A22 = 0;
B1 = 0;
B2 = 0;
Q = 0;

f = inline('(a * sin(x) + b * cos(x) - y)^2', 'a', 'b', 'x', 'y');

for i = 1 : 10
    A11 = A11 + sin(x(i))^2;
    A12 = A12 + sin(x(i)) * cos(x(i));
    A22 = A22 + cos(x(i))^2;
    B1 = B1 + y(i) * sin(x(i));
    B2 = B2 + y(i) * cos(x(i));
end

A = [A11 A12; A12 A22];
B = [B1; B2];
C = A\B;
a = C(1);
b = C(2);

for i = 1 : 10
    Q = Q + f(a, b, x(i), y(i));
end
fprintf("a = %.15e, b = %.15e, 均方误差: %.15e", a , b, Q);